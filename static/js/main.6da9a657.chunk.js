(this.webpackJsonprejection=this.webpackJsonprejection||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(27)},,,,,function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(10),o=a.n(s),i=(a(17),a(2)),u=a(1);function l(e){var t=e.id,a=e.question,r=e.askee,c=e.timestamp,s=e.status;return Boolean("string"===typeof t&&"string"===typeof a&&"string"===typeof r&&"number"===typeof c&&function(e){switch(e){case n.Accepted:case n.Rejected:case n.Unanswered:return!0;default:return!1}}(s))}function d(e){switch(e.status){case n.Accepted:return 1;case n.Rejected:return 10;default:return 0}}!function(e){e.Accepted="Accepted",e.Rejected="Rejected",e.Unanswered="Unanswered"}(n||(n={}));var m=a(7),p=a.n(m),f=a(4),v=a(3),k=a(11),b=a.n(k),y=a(5),h=a(6),E=function(){function e(t){Object(y.a)(this,e),this.type=t}return Object(h.a)(e,[{key:"withPayloadFactory",value:function(e){return new j(this.type,e)}},{key:"withPayload",value:function(){return new w(this.type)}},{key:"build",value:function(){var e=this,t=function(){return{type:e.type}};return t.type=this.type,t}}]),e}(),w=function(){function e(t){Object(y.a)(this,e),this.type=t}return Object(h.a)(e,[{key:"build",value:function(){var e=this,t=function(t){return{type:e.type,payload:t}};return t.type=this.type,t}}]),e}(),j=function(){function e(t,a){Object(y.a)(this,e),this.type=t,this.factory=a}return Object(h.a)(e,[{key:"build",value:function(){var e=this,t=function(t){return{type:e.type,payload:e.factory(t)}};return t.type=this.type,t}}]),e}(),g=new E("REJECTION/CREATE_ASK").withPayloadFactory((function(e){var t=e.question,a=e.askee,r=e.timestamp,c=void 0===r?Date.now():r,s=e.id,o=void 0===s?b()():s,i=e.status;return{question:t,askee:a,timestamp:c,id:o,status:void 0===i?n.Unanswered:i}})).build(),A=new E("REJECTION/APPROVE_ASK").withPayload().build(),N=new E("REJECTION/REJECT_ASK").withPayload().build(),O=new E("REJECTION/NULL").build(),S=p.a.mark(J);function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{byId:{},allIds:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.type:return R(e,t.payload);case A.type:return x(e,t.payload.id,n.Accepted);case N.type:return x(e,t.payload.id,n.Rejected);default:return e}}function R(e,t){var a=t.id;return e.byId[a]?e:Object(v.a)({},e,{byId:Object(v.a)({},e.byId,Object(f.a)({},a,t)),allIds:[].concat(Object(i.a)(e.allIds),[a])})}function x(e,t,a){return C(e,t)?Object(v.a)({},e,{byId:Object(v.a)({},e.byId,Object(f.a)({},t,Object(v.a)({},e.byId[t],{status:a})))}):e}function C(e,t){return e.byId[t]}function q(e){return e.allIds}function J(e){var t,a,n,r,c,s,o;return p.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=!0,a=!1,n=void 0,i.prev=3,r=q(e)[Symbol.iterator]();case 5:if(t=(c=r.next()).done){i.next=14;break}if(s=c.value,!(o=C(e,s))){i.next=11;break}return i.next=11,o;case 11:t=!0,i.next=5;break;case 14:i.next=20;break;case 16:i.prev=16,i.t0=i.catch(3),a=!0,n=i.t0;case 20:i.prev=20,i.prev=21,t||null==r.return||r.return();case 23:if(i.prev=23,!a){i.next=26;break}throw n;case 26:return i.finish(23);case 27:return i.finish(20);case 28:case"end":return i.stop()}}),S,null,[[3,16,20,28],[21,,23,27]])}function T(e){return Object(i.a)(J(e)).map(d).reduce((function(e,t){return e+t}),0)}var L;a(21),a(22),a(23);!function(e){e.Title="title",e.NewAskForm="new-ask-form",e.AsksList="asks-list",e.AsksListHeader="asks-list-header",e.QuestionInput="question-input",e.AskeeInput="askee-input",e.AskSubmit="ask-submit",e.QuestionError="question-error",e.AskeeError="askee-error",e.Score="score"}(L||(L={}));a(24);function P(e){var t=e.onSubmitAsk,a=Object(r.useState)(""),n=Object(u.a)(a,2),s=n[0],o=n[1],i=Object(r.useState)(""),l=Object(u.a)(i,2),d=l[0],m=l[1],p=Object(r.useState)(""),f=Object(u.a)(p,2),v=f[0],k=f[1],b=Object(r.useState)(""),y=Object(u.a)(b,2),h=y[0],E=y[1],w=function(){var e=s.length<3?"Question must be at least 3 characters long":"",t=v.length<3?"Askee must be at least 3 characters long":"";return m(e),E(t),!(e||t)};return c.a.createElement("form",{"data-testid":L.NewAskForm,className:"new-ask-form",onSubmit:function(e){e.preventDefault(),w()&&(t(s,v),o(""),k(""))}},c.a.createElement("input",{type:"text",placeholder:"What do you want to ask for?",value:s,onChange:function(e){o(e.target.value)},className:"question-input","data-testid":L.QuestionInput}),c.a.createElement("input",{type:"text",placeholder:"Who are you asking?",value:v,onChange:function(e){k(e.target.value)},className:"askee-input","data-testid":L.AskeeInput}),c.a.createElement("input",{type:"submit",value:"Ask!","data-testid":L.AskSubmit,className:"button-primary"}),c.a.createElement("ul",{className:"errors"},d?c.a.createElement("li",{"data-testid":L.QuestionError},d):null,h?c.a.createElement("li",{"data-testid":L.AskeeError},h):null))}a(25);function Q(e){var t=e.asks,a=e.reject,r=e.accept;return c.a.createElement("div",{"data-testid":L.AsksList,className:"asks-list"},c.a.createElement("table",null,t.length<1?null:c.a.createElement(U,null),c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement("tr",{key:e.id,className:"ask","data-testid":"ask=".concat(e.id)},c.a.createElement("td",{className:"ask-question"},e.question),c.a.createElement("td",{className:"ask-askee"},e.askee),c.a.createElement("td",{className:"ask-date"},c.a.createElement(F,{timestamp:e.timestamp})),c.a.createElement("td",{className:"ask-status ".concat(e.status)},e.status===n.Unanswered?c.a.createElement(D,{askId:e.id,accept:r,reject:a}):e.status))})))))}function U(){return c.a.createElement("thead",{"data-testid":L.AsksListHeader},c.a.createElement("tr",null,c.a.createElement("th",null,"Question"),c.a.createElement("th",null,"Askee"),c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"Status")))}function D(e){var t=e.askId,a=e.accept,n=e.reject;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"accept",onClick:function(){a(t)}},"Accept"),c.a.createElement("button",{className:"reject",onClick:function(){n(t)}},"Reject"))}function F(e){var t=e.timestamp;return c.a.createElement("time",{dateTime:new Date(t).toString()},new Date(t).toLocaleString())}a(26);function W(e){var t=e.score;return c.a.createElement("div",{"data-testid":L.Score,className:"score-container"},"Score: ",c.a.createElement("span",{className:"score"},t))}function B(e){var t=e.onSubmitAsk,a=e.accept,n=e.reject,r=e.asks,s=e.score;return c.a.createElement("div",{className:"App container"},c.a.createElement("header",{className:"App-header row"},c.a.createElement("div",{className:"twelve columns"},c.a.createElement("h1",{"data-testid":L.Title},"Rejection App"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"twelve columns"},c.a.createElement(P,{onSubmitAsk:t}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"twelve columns"},c.a.createElement(W,{score:s}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"twelve columns"},c.a.createElement(Q,{asks:r,reject:n,accept:a}))))}function K(e){var t=localStorage.getItem("rejection-app");if(!t)return console.log("No saved state to load."),e;var a,n="Saved state was invalid.";try{a=JSON.parse(t).asks}catch(s){return console.error(n),e}if(void 0===a)return console.error(n),e;if("function"!==typeof a.filter)return console.error(n),e;var r=a.filter(l);r.length<a.length&&console.error("Could not load complete state. ".concat(a.length-r.length," invalid Asks."));var c=r.map((function(e){return g(e)})).reduce(I,e);return console.log("Reconstructed state from storage successfully."),c}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement((function(){var e=Object(r.useReducer)(I,I(void 0,O()),K),t=Object(u.a)(e,2),a=t[0],n=t[1],s=Object(i.a)(J(a));return localStorage.setItem("rejection-app",JSON.stringify({asks:Object(i.a)(J(a))})),c.a.createElement(B,{asks:s,score:T(a),onSubmitAsk:function(e,t){n(g({question:e,askee:t}))},accept:function(e){n(A({id:e}))},reject:function(e){n(N({id:e}))}})}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.6da9a657.chunk.js.map